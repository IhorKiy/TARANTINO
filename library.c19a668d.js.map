{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,6JCAzDH,EAAA,S,wFCAAA,EAAA,S,6FCAAI,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDU5F,MAAMC,EAAeC,SAASC,cAAc,oBACtCC,EAAYF,SAASC,cAAc,UACnCE,EAAcH,SAASC,cAAc,YAC3BD,SAASC,cAAc,YACzBD,SAASC,cAAc,UACdD,SAASC,cAAc,oBAE9CF,EAAaK,iBAAiB,SAI9B,SAAwBC,GAEtB,GADAA,EAAMC,iBAEsB,MAA1BD,EAAME,OAAOC,UACbH,EAAME,OAAOE,UAAUC,SAAS,aAChC,CACcL,EAAME,OAAOI,W,CAGD,MAA1BN,EAAME,OAAOC,UACbH,EAAME,OAAOE,UAAUC,SAAS,gBAEhCE,MAAQP,EAAME,OAAOM,uBAAuBF,aAE9C,GAA8B,QAA1BN,EAAME,OAAOC,SAGV,OAFLI,MACEP,EAAME,OAAOO,WAAWC,mBAAmBC,kBAAkBL,YAyEjET,EAAUO,UAAUQ,IAAI,UACxBd,EAAYM,UAAUQ,IAAI,UApE1B,MAAMC,EAASC,EAAAC,QAAQC,KAAK,YAQ9B,UAAgCC,YAC9BA,EAAWV,MACXA,EAAKW,aACLA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,eACVA,EAAcC,UACdA,EAASC,SACTA,IAEA,MAAMC,GAAa,EAAAC,EAAAC,gBAAeJ,GAClCzB,EAAU8B,UAAY,gFAGhBV,EACI,kCAAkCA,IAClCW,EAAAzC,YACIoB,iGAIqBA,+PAKqBW,cAAyBC,mLAKrCC,2KAIAC,kKAIAG,wHAIVD,6V,CA9ClCM,CAHkBhB,EAAOiB,MAAKC,GAASA,EAAMxB,QAAUA,Q,IA3BzDyB,QAAQC,IAAIvC","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6afbbaaea605bcba.js","src/library.js","src/js/modalMovie.js","node_modules/@parcel/runtime-js/lib/runtime-689e453d0a905807.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.c19a668d.js\\\",\\\"fHBrZ\\\":\\\"image-placeholder.c4c74d91.png\\\",\\\"5UbS1\\\":\\\"index.17573ada.css\\\"}\"));","import './js/swiper';\nimport './js/closeModal';\nimport './js/loader';\nimport './js/storage';\nimport './js/serviseAPI';\nimport './js/onFirstRender';\nimport './js/modal_footer';\nimport './js/queue';\nimport './js/modal_button_storage';\nimport './js/paginator';\nimport './js/modalMovie';\n","import { insertCardMarkup } from './cardMarkup';\nimport ApiMovie from './serviseAPI';\nimport { apiMovie } from './serviseAPI';\nimport storage from './storage';\nimport { load } from './storage';\nimport cardMarkup from './cardMarkup';\nimport onFirstRender from './onFirstRender';\nimport { getGenresNames } from './getGenresNames';\nimport imagePlaceholder from '../images/image-placeholder.png';\n\nconst filmCardRefs = document.querySelector('.card__container');\nconst modalRefs = document.querySelector('.modal');\nconst overlayRefs = document.querySelector('.overlay');\nconst overlay = document.querySelector('.overlay');\nconst modal = document.querySelector('.modal');\nconst movieContainer = document.querySelector('.card__container');\n\nfilmCardRefs.addEventListener('click', openModalMovie);\nconsole.log(filmCardRefs);\n\n// async\nfunction openModalMovie(event) {\n  event.preventDefault();\n  if (\n    event.target.nodeName === 'P' &&\n    event.target.classList.contains('film-name')\n  ) {\n    const title = event.target.textContent;\n  }\n  if (\n    event.target.nodeName === 'P' &&\n    event.target.classList.contains('film-genre')\n  ) {\n    title = event.target.previousElementSibling.textContent;\n  }\n  if (event.target.nodeName === 'IMG') {\n    title =\n      event.target.parentNode.nextElementSibling.firstElementChild.textContent;\n  } else return;\n  // console.log(title);\n\n  openModalView();\n\n  const movies = storage.load('current');\n  // console.log(movies);\n  const movieData = movies.find(movie => movie.title === title);\n  // console.log(movieData);\n\n  renderMovieDataToModal(movieData);\n}\n\nfunction renderMovieDataToModal({\n  poster_path,\n  title,\n  vote_average,\n  vote_count,\n  popularity,\n  original_title,\n  genre_ids,\n  overview,\n}) {\n  const genresData = getGenresNames(genre_ids);\n  modalRefs.innerHTML = `\n    <div class=\"modal__poster-box\">\n      <img class=\"modal__poster\" src=\"${\n        poster_path\n          ? `https://image.tmdb.org/t/p/w500${poster_path}`\n          : imagePlaceholder\n      }\" alt=\"${title}\"  />\n\n    </div>\n    <div class=\"modal__film-descr\">\n      <h2 class=\"modal__film-name\">${title}</h2>\n      <ul class=\"modal__film-info-list\">\n        <li class=\"modal__film-info-item\">\n          <p class=\"madal__film-info\">Vote / Votes</p>\n          <p class=\"modal__film-info-value\">\n            <span class=\"modal__film-info-value--color\">${vote_average}</span> / ${vote_count}\n          </p>\n        </li>\n        <li class=\"modal__film-info-item\">\n          <p class=\"madal__film-info\">Popularity</p>\n          <p class=\"modal__film-info-value\">${popularity}</p>\n        </li>\n        <li class=\"modal__film-info-item\">\n          <p class=\"madal__film-info\">Original Title</p>\n          <p class=\"modal__film-info-value\">${original_title}</p>\n        </li>\n        <li class=\"modal__film-info-item\">\n          <p class=\"madal__film-info\">Genre</p>\n          <p class=\"modal__film-info-value\">${genresData}</p>\n        </li>\n      </ul>\n      <h3 class=\"modal__film-about\">ABOUT</h3>\n      <p class=\"modal__film-plot\">${overview}\n      </p>\n      <ul class=\"modal__film-btn-List\">\n        <li class=\"modal__film-btn-item\">\n          <button class=\"modal__film-btn watched\">ADD TO WATCHED</button>\n        </li>\n        <li class=\"modal__film-btn-item\">\n          <button class=\"modal__film-btn queue\">ADD TO QUEUE</button>\n        </li>\n      </ul>\n    </div>\n\n  `;\n}\n\nfunction openModalView() {\n  modalRefs.classList.add('active');\n  overlayRefs.classList.add('active');\n}\n\n// Експорт данних по фільмам для обміну між local storage звернення: modalMovie.movies()\nexport {\n  movies, // масив фільмів за ключем 'current' що приходять з local storage з load\n  movieData, // дані поточного фільма який обрали\n};\n\n// 1. Відкриття модалки по натисканню на movie card\n// 2. Fetch\n// 3. Render\n// 4. Підключення buttons 'add to watch' та 'add to queue'\n// 5. При натисканні на buttons 'add to watch', має бути змінено\n// текстовий контент на 'remove to watch'\n// 6. При закритті/відкритті модалки має відображатись поточний стан кнопки add/remove\n// 7. При закритті модалки необхідно перемальовувати вміст бібліотеки\n\n// ============ функціонал для buttons ==========\n\n// function onButtonAddWatched() {\n//   buttonWatchedRefs.classList.toggle('to-turn-on');\n//   buttonWatchedRefs.textContent = 'ADD TO';\n//   buttonWatchedRefs.classList.toggle('to-turn-on');\n//   buttonWatchedRefs.textContent = 'REMOVE FROM WATCHED';\n// }\n\n// function onButtonAddQueue() {\n//   buttonQueueRefs.classList.remove('to-turn-on');\n//   buttonQueueRefs.textContent = 'ADD TO';\n//   buttonQueueRefs.classList.add('to-turn-on');\n//   buttonQueueRefs.textContent = 'REMOVE FROM QUEUE';\n// }\n\n// const buttonWatchedRefs = document.querySelector('.modal__film-btn watched');\n// const buttonQueueRefs = document.querySelector('.modal__film-btn queue');\n\n// buttonWatchedRefs = document.querySelector('.modal__film-btn watched');\n// buttonQueueRefs = document.querySelector('.modal__film-btn queue');\n// buttonWatchedRefs.addEventListener('click', onButtonAddWatched);\n// console.log(buttonWatchedRefs);\n// buttonQueueRefs.addEventListener('click', onButtonAddQueue);\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fHBrZ\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$157c34a4f5622c56$exports","URL","resolve","import","meta","url","toString","$8493215c505d4f4a$var$filmCardRefs","document","querySelector","$8493215c505d4f4a$var$modalRefs","$8493215c505d4f4a$var$overlayRefs","addEventListener","event","preventDefault","target","nodeName","classList","contains","textContent","title","previousElementSibling","parentNode","nextElementSibling","firstElementChild","add","movies","$5uEKZ","default","load","poster_path","vote_average","vote_count","popularity","original_title","genre_ids","overview","genresData","$8M5L2","getGenresNames","innerHTML","$parcel$interopDefault","$8493215c505d4f4a$var$renderMovieDataToModal","find","movie","console","log"],"version":3,"file":"library.c19a668d.js.map"}
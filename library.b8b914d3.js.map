{"mappings":"gfAAAA,EAAA,S,6ECEA,IAgBmBC,EAAMC,EAoBrBC,EAAUC,EApCdC,EAAAL,EAAA,SAEMM,EAAa,iBACbC,EAAgB,sBAChBC,EAAW,eACXC,EAAc,oBAGdC,EAAK,CACPC,WAAY,GACZC,SAAU,IAERC,EAAQ,GAIKZ,EAiBTY,EAjBeX,EAiBRQ,EAAKC,WAhBHN,EAAAS,QAAQC,KAAKC,aAChBC,SAAShB,GAGUC,EAArBgB,YAAcX,EAFnBL,EAAIgB,YAAcZ,EAKqB,SAA/Ba,EAAMjB,GACJG,EAAAS,QAAQC,KAAKK,WAChBH,SAASE,GAGUjB,EAArBgB,YAAcT,EAFnBP,EAAIgB,YAAcV,C,CAO3Ba,CAAQR,EAAOH,EAAKE,UAKhBT,EADAO,EAAKC,WAAWO,cAAgBZ,EAgBA,SAAdgB,EAAMpB,GACxB,IAAMqB,EAASlB,EAAAS,QAAQC,KAAKC,aACvBO,EAAON,SAASK,IAAUpB,EAAIgB,cAAgBZ,EAI5CkB,QAAQC,IAAI,iDAHfF,EAAOG,KAAKJ,GACZjB,EAAAS,QAAQa,KAAKX,YAAaO,GAC1BrB,EAAIgB,YAAcX,E,EAKQ,SAANqB,EAAM1B,GAC9B,IAAMqB,EAASlB,EAAAS,QAAQC,KAAKC,aACxBO,EAAON,SAASW,IAAU1B,EAAIgB,cAAgBX,GAC9CgB,EAASA,EAAOM,QAAO,SAAAC,G,OAAKA,EAAFC,KAAgBH,EAAMG,E,IAChD1B,EAAAS,QAAQa,KAAKX,YAAaO,GACzBrB,EAAIgB,YAAcZ,GAChBkB,QAAQC,IAAI,oD,EA1BnBrB,EADAM,EAAKE,SAASM,cAAgBV,EAgCE,SAAhBwB,EAAM9B,GACtB,IAAMqB,EAASlB,EAAAS,QAAQC,KAAKK,WACvBG,EAAON,SAASe,IAAU9B,EAAIgB,cAAgBV,EAI5CgB,QAAQC,IAAI,gDAHfF,EAAOG,KAAKM,GACZ3B,EAAAS,QAAQa,KAAKP,UAAWG,GACvBrB,EAAIgB,YAAcT,E,EAK8B,SAA/BwB,EAAM/B,GAC5B,IAAMqB,EAASlB,EAAAS,QAAQC,KAAKK,WACxBG,EAAON,SAASgB,IAAW/B,EAAIgB,cAAgBT,GAC/Cc,EAASA,EAAOM,QAAO,SAAAC,G,OAAKA,EAAFC,KAAgBE,EAAMF,E,IAChD1B,EAAAS,QAAQa,KAAKP,UAAWG,GACvBrB,EAAIgB,YAAcV,GAChBgB,QAAQC,IAAI,kD,EA1Ccf,EAAhCC,WAAWuB,iBAAiB,QAAS/B,GAC1CO,EAAKE,SAASsB,iBAAiB,QAAS9B,E","sources":["src/library.js","src/js/modal_button_storage.js"],"sourcesContent":["import './js/swiper';\nimport './js/closeModal';\nimport './js/loader';\nimport './js/storage';\nimport './js/serviseAPI';\nimport './js/onFirstRender';\nimport './js/modal_footer';\nimport './js/queue';\nimport './js/modal_button_storage';\n","//import refs, movie чекаю  від Кості\n//import { refs, movie } from \"./modal-movie\";\nimport storage from \"./storage\";\n//чарівні рядки)\nconst addWatched = \"ADD TO WATCHED\";\nconst removeWatched = \"REMOVE FROM WATCHED\";\nconst addQueue = \"ADD TO QUEUE\";\nconst removeQueue = \"REMOVE FROM QUEUE\";\n\n//****тимчасово поки нема звідки export refs на кнопки */\nconst refs={\n    btnWatched: \"\",\n    btnQueue: \"\",\n}\nconst movie = {};\n//************************************* */\n\n//перевіряє чи Є цей movie в сховищі WATCHED і дає кнопці відповіний напис\nfunction isWatched(movie,btn){\n    const movies = storage.load(WATCHED_KEY);\n    if (!movies.includes(movie)) {\n         btn.textContent = addWatched;  //чи додавати відповідний клас\n    }\n     else btn.textContent = removeWatched; //чи додавати відповідний клас?\n}\n//перевіряє чи Є цей movie в сховищі QUEUE і дає кнопці відповіний напис?\nfunction isQueue(movie,btn) {\n    const movies = storage.load(QUEUE_KEY);\n    if (!movies.includes(movie)) {\n         btn.textContent = addQueue; //чи додавати відповідний клас?\n    }\n     else btn.textContent = removeQueue; //чи додавати відповідний клас?\n}\n//при відкритті модалки перевіряємо чи movie Є в сховищі\n// в масивах WATCHED/QUEUE і даємо відповідний напис на кнопках\nisWatched(movie, refs.btnWatched);\nisQueue(movie, refs.btnQueue);\n//в залежності що написано на кнопках => різні функції на лісенери\nlet fWatched, fQueue;\n\nif (refs.btnWatched.textContent === addWatched) {\n    fWatched = addToWatched;\n} else {\n    fWatched = removeFromWatched;\n}\nif (refs.btnQueue.textContent === addQueue) {\n    fQueue = addToQueue;\n} else {\n    fQueue = removeFromQueue;\n}\n//вішаємо лісенери на кнопки і функціі для них\nrefs.btnWatched.addEventListener(\"click\", fWatched);\nrefs.btnQueue.addEventListener(\"click\", fQueue);   \n\n//const посилання на кнопку = document.querySelector(\"click\", addToWatched)\n//при натисненні ADD TO WATCHED додаємо movie в localStorage якщо там його нема\nfunction addToWatched(movie,btn) { //btn це ref на кнопку в модалці фільма,  фільма,яка відповідає за його ознаку WATChED\n    const movies = storage.load(WATCHED_KEY);\n    if (!movies.includes(movie) && btn.textContent === addWatched) { //\n        movies.push(movie);\n        storage.save(WATCHED_KEY, movies);\n        btn.textContent = removeWatched;\n    } else console.log('Цей фільм вже є в watched або кнопка НЕ ADD!');\n}\n//const посилання на кнопку = document.querySelector(\"click\", removeFromWatched) це посилання на addToWatched але перевіряєемо textContent кнопки чи там REMOVE FROM WATCHED\n//при натисненні REMOVE FROM WATCHED видаляємо з localStorage якщо він там  є\nfunction removeFromWatched (movie,btn){ //btn це ref на кнопку в модалці  фільма,яка відповідає за його ознаку WATChED\n    const movies = storage.load(WATCHED_KEY);\n    if (movies.includes(movie) && btn.textContent === removeWatched) {\n        movies = movies.filter(({ id }) => id !== movie.id)\n        storage.save(WATCHED_KEY, movies);\n         btn.textContent = addWatched;\n    } else console.log('Цього фільма нема в watched або кнопка НЕ REMOVE!');\n}\n\n//const посилання на кнопку = document.querySelector(\"click\", addToQueue)\n//при натисненні ADD TO QUEUE додаємо в localStorage якщо там його нема\nfunction addToQueue(movie,btn) { //btn це ref на кнопку в модалці  фільма,яка відповідає за його ознаку QUEUE \n    const movies = storage.load(QUEUE_KEY);\n    if (!movies.includes(movie) && btn.textContent === addQueue) {\n        movies.push(movie);\n        storage.save(QUEUE_KEY, movies);\n         btn.textContent = removeQueue;\n    } else console.log('Цей фільм вже є в queue або кнопка НЕ  ADD!');\n}\n//const посилання на кнопку = document.querySelector(\"click\", removeFromQueue) то саме що ADD TO QUEUE\n//при натисненні REMOVE FROM QUEUE видаляємо з localStorage якщо він там  є перевіряєемо textContent кнопки чи там REMOVE FROM QUEUE\nfunction removeFromQueue (movie,btn){ //btn це ref на кнопку в модалці фільма, яка відповідає за його ознаку QUEUE\n    const movies = storage.load(QUEUE_KEY);\n    if (movies.includes(movie) &&  btn.textContent === removeQueue) {\n        movies = movies.filter(({ id }) => id !== movie.id)\n        storage.save(QUEUE_KEY, movies);\n         btn.textContent = addQueue;\n    } else console.log('Цього фільма нема в queue або кнопка НЕ REMOVE!');\n}\n//чи щось потрібно пеерендирити при закритті модалки ???\n//при закритті модалки чи потрібно знімати лісенери?"],"names":["parcelRequire","movie1","btn","$4fea712e7c9f9e1d$var$fWatched","$4fea712e7c9f9e1d$var$fQueue","$jzQFI","$4fea712e7c9f9e1d$var$addWatched","$4fea712e7c9f9e1d$var$removeWatched","$4fea712e7c9f9e1d$var$addQueue","$4fea712e7c9f9e1d$var$removeQueue","$4fea712e7c9f9e1d$var$refs","btnWatched","btnQueue","$4fea712e7c9f9e1d$var$movie","default","load","WATCHED_KEY","includes","textContent","movie2","QUEUE_KEY","$4fea712e7c9f9e1d$var$isQueue","movie3","movies","console","log","push","save","movie4","filter","param","id","movie5","movie6","addEventListener"],"version":3,"file":"library.b8b914d3.js.map"}
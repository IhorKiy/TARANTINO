{"mappings":"oeAAAA,EAAA,S,6ECEA,IAAAC,EAAAD,EAAA,SAEY,MAMNE,EAAK,CACPC,WAAY,GACZC,SAAU,IAERC,EAAQ,GAIkC,IAA7BC,EAAMC,EAoB2B,IAAhDC,EAAUC,EApBKH,EAiBTD,EAjBeE,EAiBRL,EAAKC,WAhBHF,EAAAS,QAAQC,KAAKC,aAChBC,SAASP,GAGUC,EAArBO,YAlBQ,sBAgBbP,EAAIO,YAjBM,iBAsB6B,SAA/BC,EAAMR,GACJN,EAAAS,QAAQC,KAAKK,WAChBH,SAASE,GAGUR,EAArBO,YAxBM,oBAsBXP,EAAIO,YAvBI,c,CA8BjBG,CAAQZ,EAAOH,EAAKE,UAKhBI,EArCe,mBAoCfN,EAAKC,WAAWW,YAgBgB,SAAdI,EAAMX,GACxB,MAAMY,EAASlB,EAAAS,QAAQC,KAAKC,aACvBO,EAAON,SAASK,IAtDN,mBAsDgBX,EAAIO,YAI5BM,QAAQC,IAAI,iDAHfF,EAAOG,KAAKJ,GACZjB,EAAAS,QAAQa,KAAKX,YAAaO,GAC1BZ,EAAIO,YAxDU,sB,EA6DY,SAANU,EAAMjB,GAC9B,MAAMY,EAASlB,EAAAS,QAAQC,KAAKC,aACxBO,EAAON,SAASW,IA/DF,wBA+DYjB,EAAIO,aAC9BK,EAASA,EAAOM,QAAO,EAACC,GAAEA,KAASA,IAAOF,EAAME,KAChDzB,EAAAS,QAAQa,KAAKX,YAAaO,GACzBZ,EAAIO,YAnEM,kBAoERM,QAAQC,IAAI,oD,EA1BnBZ,EAxCa,iBAuCbP,EAAKE,SAASU,YAgCkB,SAAhBa,EAAMpB,GACtB,MAAMY,EAASlB,EAAAS,QAAQC,KAAKK,WACvBG,EAAON,SAASc,IAzER,iBAyEkBpB,EAAIO,YAI5BM,QAAQC,IAAI,gDAHfF,EAAOG,KAAKK,GACZ1B,EAAAS,QAAQa,KAAKP,UAAWG,GACvBZ,EAAIO,YA3EO,oB,EAgFqC,SAA/Bc,EAAMrB,GAC5B,MAAMY,EAASlB,EAAAS,QAAQC,KAAKK,WACxBG,EAAON,SAASe,IAlFJ,sBAkFerB,EAAIO,aAC/BK,EAASA,EAAOM,QAAO,EAACC,GAAEA,KAASA,IAAOE,EAAMF,KAChDzB,EAAAS,QAAQa,KAAKP,UAAWG,GACvBZ,EAAIO,YAtFI,gBAuFNM,QAAQC,IAAI,kD,EA1CcnB,EAAhCC,WAAW0B,iBAAiB,QAASrB,GAC1CN,EAAKE,SAASyB,iBAAiB,QAASpB","sources":["src/library.js","src/js/modal_button_storage.js"],"sourcesContent":["import './js/swiper';\nimport './js/closeModal';\nimport './js/loader';\nimport './js/storage';\nimport './js/serviseAPI';\nimport './js/onFirstRender';\nimport './js/modal_footer';\nimport './js/queue';\nimport './js/modal_button_storage';\n","//import refs, movie чекаю  від Кості\n//import { refs, movie } from \"./modal-movie\";\nimport storage from \"./storage\";\n//чарівні рядки)\nconst addWatched = \"ADD TO WATCHED\";\nconst removeWatched = \"REMOVE FROM WATCHED\";\nconst addQueue = \"ADD TO QUEUE\";\nconst removeQueue = \"REMOVE FROM QUEUE\";\n\n//****тимчасово поки нема звідки export refs на кнопки */\nconst refs={\n    btnWatched: \"\",\n    btnQueue: \"\",\n}\nconst movie = {};\n//************************************* */\n\n//перевіряє чи Є цей movie в сховищі WATCHED і дає кнопці відповіний напис\nfunction isWatched(movie,btn){\n    const movies = storage.load(WATCHED_KEY);\n    if (!movies.includes(movie)) {\n         btn.textContent = addWatched;  //чи додавати відповідний клас\n    }\n     else btn.textContent = removeWatched; //чи додавати відповідний клас?\n}\n//перевіряє чи Є цей movie в сховищі QUEUE і дає кнопці відповіний напис?\nfunction isQueue(movie,btn) {\n    const movies = storage.load(QUEUE_KEY);\n    if (!movies.includes(movie)) {\n         btn.textContent = addQueue; //чи додавати відповідний клас?\n    }\n     else btn.textContent = removeQueue; //чи додавати відповідний клас?\n}\n//при відкритті модалки перевіряємо чи movie Є в сховищі\n// в масивах WATCHED/QUEUE і даємо відповідний напис на кнопках\nisWatched(movie, refs.btnWatched);\nisQueue(movie, refs.btnQueue);\n//в залежності що написано на кнопках => різні функції на лісенери\nlet fWatched, fQueue;\n\nif (refs.btnWatched.textContent === addWatched) {\n    fWatched = addToWatched;\n} else {\n    fWatched = removeFromWatched;\n}\nif (refs.btnQueue.textContent === addQueue) {\n    fQueue = addToQueue;\n} else {\n    fQueue = removeFromQueue;\n}\n//вішаємо лісенери на кнопки і функціі для них\nrefs.btnWatched.addEventListener(\"click\", fWatched);\nrefs.btnQueue.addEventListener(\"click\", fQueue);   \n\n//const посилання на кнопку = document.querySelector(\"click\", addToWatched)\n//при натисненні ADD TO WATCHED додаємо movie в localStorage якщо там його нема\nfunction addToWatched(movie,btn) { //btn це ref на кнопку в модалці фільма,  фільма,яка відповідає за його ознаку WATChED\n    const movies = storage.load(WATCHED_KEY);\n    if (!movies.includes(movie) && btn.textContent === addWatched) { //\n        movies.push(movie);\n        storage.save(WATCHED_KEY, movies);\n        btn.textContent = removeWatched;\n    } else console.log('Цей фільм вже є в watched або кнопка НЕ ADD!');\n}\n//const посилання на кнопку = document.querySelector(\"click\", removeFromWatched) це посилання на addToWatched але перевіряєемо textContent кнопки чи там REMOVE FROM WATCHED\n//при натисненні REMOVE FROM WATCHED видаляємо з localStorage якщо він там  є\nfunction removeFromWatched (movie,btn){ //btn це ref на кнопку в модалці  фільма,яка відповідає за його ознаку WATChED\n    const movies = storage.load(WATCHED_KEY);\n    if (movies.includes(movie) && btn.textContent === removeWatched) {\n        movies = movies.filter(({ id }) => id !== movie.id)\n        storage.save(WATCHED_KEY, movies);\n         btn.textContent = addWatched;\n    } else console.log('Цього фільма нема в watched або кнопка НЕ REMOVE!');\n}\n\n//const посилання на кнопку = document.querySelector(\"click\", addToQueue)\n//при натисненні ADD TO QUEUE додаємо в localStorage якщо там його нема\nfunction addToQueue(movie,btn) { //btn це ref на кнопку в модалці  фільма,яка відповідає за його ознаку QUEUE \n    const movies = storage.load(QUEUE_KEY);\n    if (!movies.includes(movie) && btn.textContent === addQueue) {\n        movies.push(movie);\n        storage.save(QUEUE_KEY, movies);\n         btn.textContent = removeQueue;\n    } else console.log('Цей фільм вже є в queue або кнопка НЕ  ADD!');\n}\n//const посилання на кнопку = document.querySelector(\"click\", removeFromQueue) то саме що ADD TO QUEUE\n//при натисненні REMOVE FROM QUEUE видаляємо з localStorage якщо він там  є перевіряєемо textContent кнопки чи там REMOVE FROM QUEUE\nfunction removeFromQueue (movie,btn){ //btn це ref на кнопку в модалці фільма, яка відповідає за його ознаку QUEUE\n    const movies = storage.load(QUEUE_KEY);\n    if (movies.includes(movie) &&  btn.textContent === removeQueue) {\n        movies = movies.filter(({ id }) => id !== movie.id)\n        storage.save(QUEUE_KEY, movies);\n         btn.textContent = addQueue;\n    } else console.log('Цього фільма нема в queue або кнопка НЕ REMOVE!');\n}\n//чи щось потрібно пеерендирити при закритті модалки ???\n//при закритті модалки чи потрібно знімати лісенери?"],"names":["parcelRequire","$5uEKZ","$9327c38f9db0b0da$var$refs","btnWatched","btnQueue","$9327c38f9db0b0da$var$movie","movie1","btn","$9327c38f9db0b0da$var$fWatched","$9327c38f9db0b0da$var$fQueue","default","load","WATCHED_KEY","includes","textContent","movie2","QUEUE_KEY","$9327c38f9db0b0da$var$isQueue","movie3","movies","console","log","push","save","movie4","filter","id","movie5","movie6","addEventListener"],"version":3,"file":"library.57120156.js.map"}
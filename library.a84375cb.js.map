{"mappings":"iiBAAAA,EAAA,S,yHCAA,IAAAC,EAAAD,EAAA,S,sDAUME,EAASC,EAAAC,QAAQC,kBAEnBJ,EAAAK,KAAKC,YACPN,EAAAK,KAAKC,WAAWC,iBAAiB,SAGnC,WACE,GAAKN,GAA4B,IAAlBA,EAAOO,OAEf,CACLR,EAAAK,KAAKI,SAASC,UAAUC,OAAO,UAC/BX,EAAAK,KAAKC,WAAWI,UAAUE,IAAI,UAC9B,IAAMC,EAAYC,OAAOC,aAAaC,QAAQ,aAC1CC,EAAeC,KAAKC,MAAMN,GAMNO,EAJLH,EAIuBI,EAJTrB,EAAAK,KAAKiB,iBAKlCC,EAAaH,EAChBI,KACC,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAYH,EAAZG,aAAcC,EAAWJ,EAAXI,YAAaC,EAASL,EAATK,UAAWC,EAAcN,EAAdM,eAC5CC,GAAgB,EAAAC,EAAAC,gBAAeJ,GAC/BK,EAAY,CAChBP,eACAG,kBAEEK,EAAc,GAMlB,OALID,EAAUP,aACZQ,EAAcD,EAAUP,aAAaS,MAAM,EAAG,GACrCF,EAAUJ,iBACnBK,EAAcD,EAAUJ,eAAeM,MAAM,EAAG,IAE3C,oBAEiFC,OAD/EZ,EAAG,qHACqHY,OAAzCT,EAAY,+BAE/ES,OAF4GX,EAAM,0EAGjHW,OADDX,EAAM,sCACqCW,OAA1CN,EAAc,8BAAwCM,OAAZF,EAAY,gD,IAM/EG,KAAK,IAERlB,EAAImB,UAAYjB,C,MAvCdkB,EAAAC,GAASC,OAAOC,QAAQ,gBAW5B,IAA4BxB,EAAkBC,EACtCE,C","sources":["src/library.js","src/js/renderWatched.js"],"sourcesContent":["import './js/swiper';\nimport './js/closeModal';\nimport './js/loader';\nimport './js/storage';\nimport './js/serviseAPI';\nimport './js/onFirstRender';\nimport './js/modal_footer';\nimport './js/paginator';\n// import './js/btnUp';\nimport './js/queue';\n// import './js/searchQuery';\n// import './js/top-slider';\n// import './js/sliderMarkup';\nimport './js/modalMovie';\nimport './js/closeModal';\n// import './js/trailers';\nimport './js/modal_button_storage';\nimport './js/renderWatched';\n","import { refs } from './refs';\nimport storage from './storage';\nimport { getGenresNames } from './getGenresNames';\nimport insertCardMarkup from './cardMarkup';\nimport Notiflix from 'notiflix';\n\n// const watchedBtn = document.querySelector('.library__nav-btn--watched');\n// const gallery = document.querySelector('.card__container--library');\n// const watchedBtn = refs.watchedBtn;\n// const gallery = refs.libraryContainer;\nconst movies = storage.loadFromWatched();\n\nif (refs.watchedBtn) {\n  refs.watchedBtn.addEventListener('click', showWatched);\n}\n\nfunction showWatched() {\n  if (!movies || movies.length === 0) {\n    Notiflix.Notify.failure('Oops, empty!');\n  } else {\n    refs.queueBtn.classList.remove('active');\n    refs.watchedBtn.classList.add('active');\n    const moviesArr = window.localStorage.getItem('wathedArr');\n    let parsedMovies = JSON.parse(moviesArr);\n\n    renderLibraryCards(parsedMovies, refs.libraryContainer);\n  }\n}\n\nfunction renderLibraryCards(parsedMoviesQery, ref) {\n  const cardMarkup = parsedMoviesQery\n    .map(\n      ({ id, title, release_date, poster_path, genre_ids, first_air_date }) => {\n        const getGenreNames = getGenresNames(genre_ids);\n        const movieData = {\n          release_date,\n          first_air_date,\n        };\n        let releaseDate = '';\n        if (movieData.release_date) {\n          releaseDate = movieData.release_date.slice(0, 4);\n        } else if (movieData.first_air_date) {\n          releaseDate = movieData.first_air_date.slice(0, 4);\n        }\n        return `\n        <li id=${id} class=film_card>\n        <div class=img__wrapper><img class=film_poster src=https://image.tmdb.org/t/p/original${poster_path} width= 50 height= 50 alt= ${title}/></div>\n        <div class=\"film_info\">\n        <p class=film_name>${title}</p>\n        <p class=film_genre>${getGenreNames} <span class=line>|<span> ${releaseDate}</p>\n                </div>\n\n        </li>`;\n      }\n    )\n    .join('');\n  //  const LibaCont = document.querySelector('.library__container');\n  ref.innerHTML = cardMarkup;\n  return;\n}\n"],"names":["parcelRequire","$4Nugj","$0da26693f6e5b4d7$var$movies","$jzQFI","default","loadFromWatched","refs","watchedBtn","addEventListener","length","queueBtn","classList","remove","add","moviesArr","window","localStorage","getItem","parsedMovies","JSON","parse","parsedMoviesQery","ref","libraryContainer","cardMarkup","map","param","id","title","release_date","poster_path","genre_ids","first_air_date","getGenreNames","$aIL1l","getGenresNames","movieData","releaseDate","slice","concat","join","innerHTML","$parcel$interopDefault","$6JpON","Notify","failure"],"version":3,"file":"library.a84375cb.js.map"}